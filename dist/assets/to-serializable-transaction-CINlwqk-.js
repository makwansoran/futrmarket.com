const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/resolveImplementation-BVrA_5K4.js","assets/index-Cn3kq7oy.js","assets/index-trjEgyRZ.css","assets/read-contract-D2Vq_7_K.js","assets/utils-K5Uh5N8m.js","assets/extractIPFS-D-pLbHWQ.js","assets/getInstalledModules-Dy6A3CiL.js","assets/eth_estimateGas-C13lVB8s.js","assets/send-eip712-transaction-CDIeKzxW.js","assets/eth_sendRawTransaction-DPdnXbFR.js","assets/concat-hex-D70TxF1Q.js","assets/eth_getTransactionCount-DhE6m_ss.js"])))=>i.map(i=>d[i]);
import{a2 as Te,a3 as Be,B as L,a4 as Fe,a5 as b,a6 as ie,a7 as Re,a8 as f,a9 as Me,aa as Ge,ab as Oe,ac as Le,ad as Ue,ae as Ce,af as E,ag as ze,ah as De,ai as Ne,aj as ke,ak as C,x as I,al as je,am as Ve,an as Ze,ao as We,ap as se,aq as He,ar as Ke,as as Ye,at as Je,au as Qe,av as Xe,m as qe,M as ae,y as Z,P as y,_ as w,w as oe,G as et,S as tt,Z as nt,$ as rt,A as it,s as st,i as _,aw as J,X as at,O as ot}from"./index-Cn3kq7oy.js";function ct(e,t){return e.exec(t)?.groups}const Q=/^tuple(?<array>(\[(\d*)\])*)$/;function N(e){let t=e.type;if(Q.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=N(s),i<n-1&&(t+=", ")}const r=ct(Q,e.type);return t+=`)${r?.array??""}`,N({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function R(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=N(i),r!==n-1&&(t+=", ")}return t}function ut(e){return e.type==="function"?`function ${e.name}(${R(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${R(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${R(e.inputs)})`:e.type==="error"?`error ${e.name}(${R(e.inputs)})`:e.type==="constructor"?`constructor(${R(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function W(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const dt=e=>Te(Be(e));function lt(e){return dt(e)}function ft(e){let t=!0,n="",r=0,i="",s=!1;for(let a=0;a<e.length;a++){const o=e[a];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=o,n+=o}}if(!s)throw new L("Unable to normalize signature.");return i}const pt=e=>{const t=typeof e=="string"?e:ut(e);return ft(t)};function yt(e){return lt(pt(e))}function B(e){return typeof e[0]=="string"?mt(e):ht(e)}function ht(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function U(e,t,n,{strict:r}={}){return Fe(e,{strict:!1})?gt(e,t,n,{strict:r}):de(e,t,n,{strict:r})}function ce(e,t){if(typeof t=="number"&&t>0&&t>b(e)-1)throw new ie({offset:t,position:"start",size:b(e)})}function ue(e,t,n){if(typeof t=="number"&&typeof n=="number"&&b(e)!==n-t)throw new ie({offset:n,position:"end",size:b(e)})}function de(e,t,n,{strict:r}={}){ce(e,t);const i=e.slice(t,n);return r&&ue(i,t,n),i}function gt(e,t,n,{strict:r}={}){ce(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ue(i,t,n),i}function br(e,t){if(e.length!==t.length)throw new Re({expectedLength:e.length,givenLength:t.length});const n=bt({params:e,values:t}),r=K(n);return r.length===0?"0x":r}function bt({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(H({param:e[r],value:t[r]}));return n}function H({param:e,value:t}){const n=Y(e.type);if(n){const[r,i]=n;return Pt(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return _t(t,{param:e});if(e.type==="address")return wt(t);if(e.type==="bool")return vt(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=Me.exec(e.type)??[];return $t(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return xt(t,{param:e});if(e.type==="string")return At(t);throw new Ge(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function K(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?t+=32:t+=b(o)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?(n.push(f(t+i,{size:32})),r.push(o),i+=b(o)):n.push(o)}return B([...n,...r])}function wt(e){if(!Ue(e))throw new Ce({address:e});return{dynamic:!1,encoded:E(e.toLowerCase())}}function Pt(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Oe(e);if(!r&&e.length!==t)throw new Le({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let a=0;a<e.length;a++){const o=H({param:n,value:e[a]});o.dynamic&&(i=!0),s.push(o)}if(r||i){const a=K(s);if(r){const o=f(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?B([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:B(s.map(({encoded:a})=>a))}}function xt(e,{param:t}){const[,n]=t.type.split("bytes"),r=b(e);if(!n){let i=e;return r%32!==0&&(i=E(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:B([E(f(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new Ne({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:E(e,{dir:"right"})}}function vt(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:E(ze(e))}}function $t(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new De({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:f(e,{size:32,signed:t})}}function At(e){const t=ke(e),n=Math.ceil(b(t)/32),r=[];for(let i=0;i<n;i++)r.push(E(U(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:B([E(f(b(t),{size:32})),...r])}}function _t(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],a=Array.isArray(e)?i:s.name,o=H({param:s,value:e[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?K(r):B(r.map(({encoded:i})=>i))}}function Y(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Et=e=>U(yt(e),0,4),It={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},St={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class X extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Tt extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Bt extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Ft={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Bt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Tt({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new X({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new X({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Rt(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ft);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Mt(e,t={}){typeof t.size<"u"&&C(e,{size:t.size});const n=I(e,t);return Ze(n,t)}function Gt(e,t={}){let n=e;if(typeof t.size<"u"&&(C(n,{size:t.size}),n=W(n)),n.length>1||n[0]>1)throw new Ve(n);return!!n[0]}function $(e,t={}){typeof t.size<"u"&&C(e,{size:t.size});const n=I(e,t);return je(n,t)}function Ot(e,t={}){let n=e;return typeof t.size<"u"&&(C(n,{size:t.size}),n=W(n,{dir:"right"})),new TextDecoder().decode(n)}function Lt(e,t){const n=typeof t=="string"?We(t):t,r=Rt(n);if(b(n)===0&&e.length>0)throw new se;if(b(t)&&b(t)<32)throw new He({data:typeof t=="string"?t:I(t),params:e,size:b(t)});let i=0;const s=[];for(let a=0;a<e.length;++a){const o=e[a];r.setPosition(i);const[c,u]=T(r,o,{staticPosition:0});i+=u,s.push(c)}return s}function T(e,t,{staticPosition:n}){const r=Y(t.type);if(r){const[i,s]=r;return Ct(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return kt(e,t,{staticPosition:n});if(t.type==="address")return Ut(e);if(t.type==="bool")return zt(e);if(t.type.startsWith("bytes"))return Dt(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Nt(e,t);if(t.type==="string")return jt(e,{staticPosition:n});throw new Ke(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const q=32,k=32;function Ut(e){const t=e.readBytes(32);return[Ye(I(de(t,-20))),32]}function Ct(e,t,{length:n,staticPosition:r}){if(!n){const a=$(e.readBytes(k)),o=r+a,c=o+q;e.setPosition(o);const u=$(e.readBytes(q)),l=O(t);let m=0;const g=[];for(let v=0;v<u;++v){e.setPosition(c+(l?v*32:m));const[d,h]=T(e,t,{staticPosition:c});m+=h,g.push(d)}return e.setPosition(r+32),[g,32]}if(O(t)){const a=$(e.readBytes(k)),o=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[l]=T(e,t,{staticPosition:o});c.push(l)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[o,c]=T(e,t,{staticPosition:r+i});i+=c,s.push(o)}return[s,i]}function zt(e){return[Gt(e.readBytes(32),{size:32}),32]}function Dt(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const a=$(e.readBytes(32));e.setPosition(n+a);const o=$(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[I(c),32]}return[I(e.readBytes(Number.parseInt(i,10),32)),32]}function Nt(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?Mt(i,{signed:n}):$(i,{signed:n}),32]}function kt(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(O(t)){const a=$(e.readBytes(k)),o=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+s);const[l,m]=T(e,u,{staticPosition:o});s+=m,i[r?c:u?.name]=l}return e.setPosition(n+32),[i,32]}for(let a=0;a<t.components.length;++a){const o=t.components[a],[c,u]=T(e,o,{staticPosition:n});i[r?a:o?.name]=c,s+=u}return[i,s]}function jt(e,{staticPosition:t}){const n=$(e.readBytes(32)),r=t+n;e.setPosition(r);const i=$(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),a=Ot(W(s));return e.setPosition(t+32),[a,32]}function O(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(O);const n=Y(e.type);return!!(n&&O({...e,type:n[1]}))}function Vt(e){const{abi:t,data:n}=e,r=U(n,0,4);if(r==="0x")throw new se;const s=[...t||[],It,St].find(a=>a.type==="error"&&r===Et(Je(a)));if(!s)throw new Qe(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Lt(s.inputs,U(n,4)):void 0,errorName:s.name}}const Zt={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Wt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Ht(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>I(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=f(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=f(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=f(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=f(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=f(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=f(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Zt[e.type]),typeof e.value<"u"&&(n.value=f(e.value)),n}function Ht(e){return e.map(t=>({address:t.address,r:t.r?f(BigInt(t.r)):t.r,s:t.s?f(BigInt(t.s)):t.s,chainId:f(t.chainId),nonce:f(t.nonce),...typeof t.yParity<"u"?{yParity:f(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:f(t.v)}:{}}))}function Kt(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Xe(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function Yt(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}async function Jt(e,t){const n=t.blockTag??"latest",r=t.includeTransactions??!1,i=t.blockNumber!==void 0?qe(t.blockNumber):void 0,s=await e({method:"eth_getBlockByNumber",params:[i||n,r]});if(!s)throw new Error("Block not found");return Kt(s)}async function Qt(e){const t=await e({method:"eth_maxPriorityFeePerGas"});return ae(t)}function le(e,t){e.includes("e")&&(e=Number(e).toFixed(t));let[n,r=""]=e.split(".");const i=n.startsWith("-")?"-":"";if(i&&(n=n.slice(1)),r=r.padEnd(t,"0"),t===0)r[0]&&Number.parseInt(r[0])>=5&&(n=(BigInt(n)+1n).toString()),r="";else if(r.length>t){const s=r[t];s&&Number.parseInt(s,10)>=5?(r=(BigInt(r.substring(0,t))+1n).toString().padStart(t,"0"),r.length>t&&(n=(BigInt(n)+1n).toString(),r=r.substring(r.length-t))):r=r.substring(0,t)}return BigInt(`${i}${n}${r}`)}function wr(e){return le(e,18)}async function Xt(e){const t=await e({method:"eth_gasPrice"});return ae(t)}async function ee(e){const{client:t,chain:n,percentMultiplier:r}=e,i=Z({chain:n,client:t}),s=await Xt(i),a=r?s/BigInt(100)*BigInt(r):0n;return s+a}function G(e){if(e===0n||(e&e-1n)===0n)return e;let t=1n;for(;e>0n;)e>>=1n,t<<=1n;return t}const qt=[78600,2040,248,9372,841,842,2016,9768,2442,1942999413,1952959480,994873017,19011,40875,1511670449,5464,2020,2021,98866,1417429182];async function en(e){const[t,n,r,i]=await Promise.all([y(e.maxFeePerGas),y(e.maxPriorityFeePerGas),y(e.gasPrice),y(e.type)]);if(t!==void 0&&n!==void 0)return{maxFeePerGas:t,maxPriorityFeePerGas:n};if(typeof r=="bigint")return{gasPrice:r};const s=await tn(e.client,e.chain,i==="legacy"?"legacy":"eip1559");return e.chain.experimental?.increaseZeroByteCount?s.gasPrice?{gasPrice:G(s.gasPrice)}:{maxFeePerGas:t??G(s.maxFeePerGas??0n),maxPriorityFeePerGas:n??G(s.maxPriorityFeePerGas??0n)}:s.gasPrice!==void 0?s:{maxFeePerGas:t??s.maxFeePerGas,maxPriorityFeePerGas:n??s.maxPriorityFeePerGas}}async function tn(e,t,n){if((n??t.feeType)==="legacy"||qt.includes(t.id))return{gasPrice:await ee({chain:t,client:e,percentMultiplier:10})};const i=await nn(e,t);return i.maxFeePerGas!==null&&i.maxPriorityFeePerGas!==null?{maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas}:{gasPrice:await ee({chain:t,client:e,percentMultiplier:10})}}async function nn(e,t,n=10){let r=null,i=null;const s=Z({chain:t,client:e}),[a,o]=await Promise.all([Jt(s,{blockTag:"latest"}),Qt(s).catch(()=>null)]),c=a?.baseFeePerGas,u=t.id;return u===220||u===1220?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(u===80002||u===137?i=await on(u):o!==null&&(i=o),i==null||c==null?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(i=rn(i,n),r=c*2n+i,(u===42220||u===44787||u===62320)&&(i=r),{maxFeePerGas:r,maxPriorityFeePerGas:i}))}function rn(e,t=10){const n=e/BigInt(100)*BigInt(t);return e+n}function sn(e){switch(e){case 137:return"https://gasstation.polygon.technology/v2";case 80002:return"https://gasstation.polygon.technology/amoy"}}const an=31n;async function on(e){const t=sn(e);try{const r=(await(await fetch(t)).json()).fast.maxPriorityFee;if(r>0){const i=Number.parseFloat(r).toFixed(9);return le(i,9)}}catch(n){console.error("failed to fetch gas",n)}return an}const cn="1.0.8";class p extends Error{constructor(t,n={}){const r=n.cause instanceof p?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof p&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${cn}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}}function A(e,t){return e.exec(t)?.groups}const fe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,pe=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ye=/^\(.+?\).*?$/,te=/^tuple(?<array>(\[(\d*)\])*)$/;function j(e){let t=e.type;if(te.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=j(s),i<n-1&&(t+=", ")}const r=A(te,e.type);return t+=`)${r?.array??""}`,j({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function M(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=j(i),r!==n-1&&(t+=", ")}return t}function un(e){return e.type==="function"?`function ${e.name}(${M(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${M(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${M(e.inputs)})`:e.type==="error"?`error ${e.name}(${M(e.inputs)})`:e.type==="constructor"?`constructor(${M(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function dn(e){const t=[],n=e.length;for(let r=0;r<n;r++){const i=e[r],s=un(i);t.push(s)}return t}const he=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ln(e){return he.test(e)}function fn(e){return A(he,e)}const me=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pn(e){return me.test(e)}function yn(e){return A(me,e)}const ge=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function hn(e){return ge.test(e)}function mn(e){return A(ge,e)}const be=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function we(e){return be.test(e)}function gn(e){return A(be,e)}const Pe=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function bn(e){return Pe.test(e)}function wn(e){return A(Pe,e)}const xe=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Pn(e){return xe.test(e)}function xn(e){return A(xe,e)}const vn=/^receive\(\) external payable$/;function $n(e){return vn.test(e)}const An=new Set(["indexed"]),V=new Set(["calldata","memory","storage"]);class Pr extends p{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _n extends p{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class En extends p{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class In extends p{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Sn extends p{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Tn extends p{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Bn extends p{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Fn extends p{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class F extends p{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Rn extends p{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Mn extends p{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gn extends p{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class On extends p{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ln(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const z=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Un(e,t={}){if(hn(e))return Cn(e,t);if(pn(e))return zn(e,t);if(ln(e))return Dn(e,t);if(bn(e))return Nn(e,t);if(Pn(e))return kn(e);if($n(e))return{type:"receive",stateMutability:"payable"};throw new Rn({signature:e})}function Cn(e,t={}){const n=mn(e);if(!n)throw new F({signature:e,type:"function"});const r=x(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(S(r[o],{modifiers:V,structs:t,type:"function"}));const a=[];if(n.returns){const o=x(n.returns),c=o.length;for(let u=0;u<c;u++)a.push(S(o[u],{modifiers:V,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function zn(e,t={}){const n=yn(e);if(!n)throw new F({signature:e,type:"event"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{modifiers:An,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Dn(e,t={}){const n=fn(e);if(!n)throw new F({signature:e,type:"error"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Nn(e,t={}){const n=wn(e);if(!n)throw new F({signature:e,type:"constructor"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function kn(e){const t=xn(e);if(!t)throw new F({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const jn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Vn=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Zn=/^u?int$/;function S(e,t){const n=Ln(e,t?.type,t?.structs);if(z.has(n))return z.get(n);const r=ye.test(e),i=A(r?Vn:jn,e);if(!i)throw new In({param:e});if(i.name&&Hn(i.name))throw new Sn({param:e,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const m=x(i.type),g=[],v=m.length;for(let d=0;d<v;d++)g.push(S(m[d],{structs:o}));u={components:g}}else if(i.type in o)c="tuple",u={components:o[i.type]};else if(Zn.test(i.type))c=`${i.type}256`;else if(c=i.type,t?.type!=="struct"&&!ve(c))throw new En({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new Tn({param:e,type:t?.type,modifier:i.modifier});if(V.has(i.modifier)&&!Kn(c,!!i.array))throw new Bn({param:e,type:t?.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...a,...u};return z.set(n,l),l}function x(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const a=e[s],o=e.slice(s+1);switch(a){case",":return r===0?x(o,[...t,n.trim()]):x(o,t,`${n}${a}`,r);case"(":return x(o,t,`${n}${a}`,r+1);case")":return x(o,t,`${n}${a}`,r-1);default:return x(o,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new On({current:n,depth:r});return t.push(n.trim()),t}function ve(e){return e==="address"||e==="bool"||e==="function"||e==="string"||fe.test(e)||pe.test(e)}const Wn=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Hn(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||fe.test(e)||pe.test(e)||Wn.test(e)}function Kn(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Yn(e){const t={},n=e.length;for(let a=0;a<n;a++){const o=e[a];if(!we(o))continue;const c=gn(o);if(!c)throw new F({signature:o,type:"struct"});const u=c.properties.split(";"),l=[],m=u.length;for(let g=0;g<m;g++){const d=u[g].trim();if(!d)continue;const h=S(d,{type:"struct"});l.push(h)}if(!l.length)throw new Mn({signature:o});t[c.name]=l}const r={},i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,c]=i[a];r[o]=$e(c,t)}return r}const Jn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function $e(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(ye.test(a.type))r.push(a);else{const c=A(Jn,a.type);if(!c?.type)throw new Fn({abiParameter:a});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new Gn({type:l});r.push({...a,type:`tuple${u??""}`,components:$e(t[l]??[],t,new Set([...n,l]))})}else if(ve(l))r.push(a);else throw new _n({type:l})}}return r}function Qn(e){const t=Yn(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];we(s)||n.push(Un(s,t))}return n}const Xn=Yt({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),qn="https://{clientId}.ipfscdn.io/ipfs/{cid}";function er(e){if(e.uri.startsWith("ipfs://")){const t=e.client.config?.storage?.gatewayUrl??qn,n=e.client.clientId,r=tr(e.uri);let i;return typeof globalThis<"u"&&"Application"in globalThis&&(i=globalThis.Application.applicationId),`${t.replace("{clientId}",n).split("/ipfs")[0]}/ipfs/${r}${i?`?bundleId=${i}`:""}`}if(e.uri.startsWith("http"))return e.uri;throw new Error('Invalid URI scheme, expected "ipfs://" or "http(s)://"')}function tr(e){if(!e.startsWith("ipfs://"))return e;const t=e.search(/\/(Qm|baf)/i);return e.slice(t+1)}async function nr(e){let t;if(e.uri.startsWith("ar://")){const{resolveArweaveScheme:r}=await w(async()=>{const{resolveArweaveScheme:i}=await import("./arweave-CAGvOb64.js");return{resolveArweaveScheme:i}},[]);t=r(e)}else t=er(e);const n=await oe(e.client)(t,{headers:e.client.config?.storage?.fetch?.headers,keepalive:e.client.config?.storage?.fetch?.keepalive,requestTimeoutMs:e.requestTimeoutMs??e.client.config?.storage?.fetch?.requestTimeoutMs??6e4});if(!n.ok){const r=await n.text();throw new Error(`Failed to download file: ${n.status} ${n.statusText} ${r||""}`)}return n}function rr(e,t="https://contract.thirdweb.com/abi"){return et(async()=>{if(e.abi)return e.abi;if(e.chain.id===31337||e.chain.id===1337||e.chain.id===Xn.id)return await ne(e);try{return await ir(e,t)}catch{return await ne(e)}},{cacheKey:`${e.chain.id}-${e.address}`,cacheTime:1e3*60*60*1})}async function ir(e,t="https://contract.thirdweb.com/abi"){const r=await(await oe(e.client)(`${t}/${e.chain.id}/${e.address}`)).json();if(!r||r.error)throw new Error(`Failed to resolve ABI from contract API. ${r.error||""}`);return r}async function Ae(e){const[{resolveImplementation:t},{extractIPFSUri:n}]=await Promise.all([w(()=>import("./resolveImplementation-BVrA_5K4.js"),__vite__mapDeps([0,1,2,3,4])),w(()=>import("./extractIPFS-D-pLbHWQ.js"),__vite__mapDeps([5,1,2]))]),{bytecode:r}=await t(e);if(r==="0x"){const{id:s,name:a}=e.chain;throw new Error(`Failed to load contract bytecode. Make sure the contract [${e.address}] exists on the chain [${a||"Unknown Chain"} (chain id: ${s})]`)}const i=n(r);if(!i)return[];try{return(await(await nr({client:e.client,uri:i})).json()).output.abi}catch{return[]}}const sr={inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},ar={inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"},or={inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"facetAddress",type:"address"},{internalType:"bytes4[]",name:"functionSelectors",type:"bytes4[]"}],type:"tuple[]"}],stateMutability:"view",type:"function"};async function ne(e,t,n){const[r,i,s,a,o]=await Promise.all([Ae(e),cr(e),ur(e),dr(e),lr(e)]),c=[...new Set([...i,...s,...a,...o])];if(!c.length)return r;const u=await fr({contract:e,plugins:c,resolveSubAbi:n});return pr({pluginAbis:u,rootAbi:r})}async function cr(e){try{const{readContract:t}=await w(async()=>{const{readContract:r}=await import("./read-contract-D2Vq_7_K.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:sr});return n.length?[...new Set(n.map(r=>r.pluginAddress))]:[]}catch{}return[]}async function ur(e){try{const{readContract:t}=await w(async()=>{const{readContract:r}=await import("./read-contract-D2Vq_7_K.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:ar});return n.length?[...new Set(n.map(r=>r.metadata.implementation))]:[]}catch{}return[]}async function dr(e){try{const{getInstalledModules:t}=await w(async()=>{const{getInstalledModules:r}=await import("./getInstalledModules-Dy6A3CiL.js");return{getInstalledModules:r}},__vite__mapDeps([6,3,1,2,4])),n=await t({contract:e});return n.length?[...new Set(n.map(r=>r.implementation))]:[]}catch{}return[]}async function lr(e){try{const{readContract:t}=await w(async()=>{const{readContract:r}=await import("./read-contract-D2Vq_7_K.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:or});return n.length?n.map(r=>r.facetAddress):[]}catch{}return[]}async function fr(e){return Promise.all(e.plugins.map(t=>{const n=tt({...e.contract,address:t});return e.resolveSubAbi?e.resolveSubAbi(n):Ae(n)}))}function pr(e){let t=e.pluginAbis.flat().filter(r=>r.type!=="constructor");e.rootAbi&&(t=[...e.rootAbi,...t].filter(r=>r.type!=="fallback"&&r.type!=="receive").filter(Boolean));const n=[...new Set(dn(t))];return Qn(n)}async function re(e){const{error:t,contract:n,fromAddress:r}=e;nt(t)&&n&&rt({chainId:n.chain?.id,client:n.client,contractAddress:n.address,error:t,walletAddress:r});const i=await yr({contract:n,error:t});return i?new hr(i,n):t}async function yr(e){const{error:t,contract:n}=e;if(typeof t=="object"){const r=t;if(r.data&&r.data!=="0x"&&it(r.data)){let i=n?.abi;n&&!i&&(i=await rr(n).catch(()=>{}));const s=Vt({abi:i,data:r.data});return`${s.errorName}${s.args?` - ${s.args}`:""}`}}return`Execution Reverted: ${st(t)}`}class hr extends Error{constructor(t,n){let r=t;super(r),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chainId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TransactionError",this.contractAddress=n?.address,this.chainId=n?.chain?.id,this.message=r}}const D=new WeakMap;async function mr(e){const t=typeof e.from=="string"?e.from??void 0:e.from?.address??e.account?.address,n={...e.transaction,from:t};if(D.has(n))return D.get(n);const{account:r}=e,i=(async()=>{const s=await y(e.transaction.gas);if(s!==void 0)return s;if(r?.estimateGas)try{let d=await r.estimateGas(e.transaction);return e.transaction.chain.experimental?.increaseZeroByteCount&&(d=G(d)),d}catch(d){throw await re({contract:e.transaction.__contract,error:d,fromAddress:t})}const{encode:a}=await w(async()=>{const{encode:d}=await import("./index-Cn3kq7oy.js").then(h=>h.b5);return{encode:d}},__vite__mapDeps([1,2])),[o,c,u,l]=await Promise.all([a(e.transaction),y(e.transaction.to),y(e.transaction.value),y(e.transaction.authorizationList)]),[{getRpcClient:m},{eth_estimateGas:g}]=await Promise.all([w(()=>import("./index-Cn3kq7oy.js").then(d=>d.b6),__vite__mapDeps([1,2])),w(()=>import("./eth_estimateGas-C13lVB8s.js"),__vite__mapDeps([7,1,2]))]),v=m(e.transaction);try{const d=Wt({authorizationList:l?.map(P=>({...P,address:_(P.address),nonce:Number(P.nonce),r:J(P.r),s:J(P.s)})),data:o,from:t?_(t):void 0,to:c?_(c):void 0,value:u});let h=await g(v,d);return e.transaction.chain.experimental?.increaseZeroByteCount&&(h=G(h)),h}catch(d){throw await re({contract:e.transaction.__contract,error:d,fromAddress:t})}})();return D.set(n,i),i}async function xr(e){if(await at(e.transaction.chain)){const{getZkGasFees:h}=await w(async()=>{const{getZkGasFees:Ie}=await import("./send-eip712-transaction-CDIeKzxW.js").then(Se=>Se.a);return{getZkGasFees:Ie}},__vite__mapDeps([8,9,1,2,10])),{gas:P,maxFeePerGas:_e,maxPriorityFeePerGas:Ee}=await h({from:typeof e.from=="string"?_(e.from):e.from!==void 0?_(e.from.address):void 0,transaction:e.transaction});e.transaction={...e.transaction,gas:P,maxFeePerGas:_e,maxPriorityFeePerGas:Ee}}const n=Z(e.transaction),r=e.transaction.chain.id,i=e.from;let[s,a,o,c,u,l,m,g,v]=await Promise.all([ot(e.transaction),(async()=>{const h=await y(e.transaction.nonce);return h!==void 0?h:i?await w(async()=>{const{eth_getTransactionCount:P}=await import("./eth_getTransactionCount-DhE6m_ss.js");return{eth_getTransactionCount:P}},__vite__mapDeps([11,1,2])).then(({eth_getTransactionCount:P})=>P(n,{address:typeof i=="string"?_(i):_(i.address),blockTag:"pending"})):void 0})(),mr({...e,from:e.from}),en(e.transaction),y(e.transaction.to),y(e.transaction.accessList),y(e.transaction.value),y(e.transaction.authorizationList),y(e.transaction.type)]);const d=await y(e.transaction.extraGas);return d&&(o+=d),{accessList:l,authorizationList:g,chainId:r,data:s,gas:o,nonce:a,to:u,type:v,value:m,...c}}export{Pr as I,Tt as P,wr as a,xr as b,B as c,Rt as d,Lt as e,yt as f,tn as g,Et as h,br as i,Vt as j,Yn as k,we as l,Un as p,le as t};
